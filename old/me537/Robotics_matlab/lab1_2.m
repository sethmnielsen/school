z1 = [81.5 82.0 82.0 82.0 82.0 81.5 81.5 81.5 81.7 81.5];
z2 = [71.8 71.7 71.8 71.7 71.8];

d1 = .27035;
d3 = .36435;
d5 = .37229;
d7 = .229525;
a1 = .069;
a3 = .069;
a5 = .01;

baxter = SerialLink([   0  d1  a1 -pi/2;
                        0   0   0  pi/2;
                     pi/2  d3  a3 -pi/2;
                     pi/2   0   0  pi/2;
                        0  d5  a5 -pi/2;
                        0   0   0  pi/2;
                        0  d7   0     0], 'name', 'baxter');

baxter.links(2).offset = pi/2;

T = [ cos(-pi/4)  -sin(-pi/4)   0    0.0635;
  sin(-pi/4)    cos(-pi/4)   0   -0.259;
 0                 0               1    0.119;
 0                 0               0    1];

q =  [0.57754377 -0.17870876 -0.07746603 -0.0479369   0.00882039  0.8705341 -0.07669904];
q1 = [0.52308745  0.56028648 -0.40343695 -0.04601942 -1.31232056  1.15585452 0.68300495];
q2 = [0.9664079   1.06880111 -1.49179632  0.58483018 -1.90443715  1.17771375 0.43833501];


q_t1 = [ 0.52308745  0.56028648 -0.40343695 -0.04601942 -1.31232056  1.15585452 0.68300495;
         0.52308745  0.55990299 -0.40305345 -0.04640292 -1.31117008  1.15393705 0.68262145;
         0.52347094  0.5587525  -0.40305345 -0.04601942 -1.31270406  1.15470404 0.68377194;
         0.52308745  0.559136   -0.40305345 -0.04525243 -1.31155357  1.157772   0.68377194;
         0.52423793  0.55990299 -0.40266996 -0.04640292 -1.31155357  1.15393705 0.68338844;
         0.52308745  0.559136   -0.40190297 -0.04601942 -1.31155357  1.15508753 0.68338844;
         0.52308745  0.559136   -0.40343695 -0.04601942 -1.31155357  1.15393705 0.68338844;
         0.52308745  0.55836901 -0.40266996 -0.04640292 -1.31155357  1.15432054 0.68377194;
         0.52347094  0.56028648 -0.40228646 -0.04601942 -1.31193707  1.157772   0.68300495];

e_pos = [ 0.7437317  -0.68888705 -0.06461438;
          0.7430408  -0.68892559 -0.0644715 ;
          0.74338053 -0.68894428 -0.06469859;
          0.74409912 -0.68877142 -0.0635384 ;
          0.74281559 -0.68921789 -0.06393324;
          0.74400947 -0.68802401 -0.0645951 ;
          0.74342643 -0.68895876 -0.06420833;
          0.74383036 -0.68897279 -0.06403433;
          0.74411704 -0.68900347 -0.06347459;
          0.74265531 -0.68870364 -0.06455375];

baxter.plot(q1)